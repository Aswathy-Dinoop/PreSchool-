


{% extends 'parent/base.html' %}
{% load static %}
{% block content %}
{% if message %}
<script>
alert("{{ message }}")
</script>
{% endif %}

<div class="banner_area1 clearfix">
    <!-- <div class="slider_overlay_area slider_height"> -->
        <div class="container slider_height">
            <!-- <div class="row slider_height"> -->
                <!-- <div class="col-md-5 offset-md-7 slider_height"> -->
                    <div class="banner-delivery-form">
                        <div class="form-header text-center">
                            <h2>Activities</h2>
                        </div>
                 
		
			<div class="container">
								<!-- </div>
								</div>
								</div> -->
				          </div>
								</div>
							</div>
							<div class="row no-gutters">
								<div class="col-md-12">
									<div class="contact-wrap w-100 p-md-5 p-4">
										<h3 class="mb-4">View Activities</h3>

		<div class="card">
			<div class="card-content collapse show">
				<div class="table-responsive">
					<table class="table table-bordered mb-0">
						<thead>
							<tr>
                                <th>Name Of the Faculty</th>
								<th>Child</th>
								<th>Admission Programm</th>
                                <th>Activity</th>
								<th>Upload Activity</th>
                                <!-- <th>Complaint</th> -->
								<!-- <th>Reply</th> -->
							</tr>
						</thead>
						<tbody>
							{% for i in view_lesson %} 
								<!-- <td> <img style="height: 70px; width: 80px;" src="/media/{{i.image}}"><br>{{i.name}} </td>			 			 -->
								<td>{{i.faculty.name}} </td>
                                <td>{{i.admission.child.name}}</td>
                                <td>{{i.admission.programme.name}}</td>
								<td><a href="/media/{{i.video}}" class="btn btn-block btn-primary btn-md">View Activities</a>Submit Before:- {{i.submissiondate}}</td>	
                                <form action="" method="post" enctype="multipart/form-data">
									{% csrf_token %}
									
                                    <td>
                                        <label>Upload Your Work</label><br>

                                        <input type="file" name="uploadwork" id="uploadwork"  accept="video/*" onsubmit="validateVideoFile(event)">

										<!-- <input type="hidden" name="id" value="{{i.user_id}}"> -->
										<input type="hidden" name="id2" value="{{i.id}}">
										{% if i.submissiondate < current_date %}
                                        <!-- <button type="submit" disabled>Upload</button> -->
                                        <p>Submission date has passed. You cannot submit the work.</p>
                                        {% else %}
                                        <button type="submit">Upload</button>
                                        {% endif %}
                                    </td>
                                    </form>		 			
                                <!-- <td>{{i.reply}}</td> -->
                                <!-- <td>{{i.name}}</td> -->
                                <!-- <td><a href="KidsProfileDetails?id={{i.id}}"><button class="btn-info">View Child Details</button></a> -->
                                   <!-- <td><a style="margin-left: 20px;" href="ApproveParent?id={{i.user_id}}"><button class="btn btn-success">Approve</button></a>
									<a href="RemoveParent?id={{ i.id}}"><button class=" btn btn-danger">Reject</button></a></td> -->

                                </td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
										
									</div>
								</div>
								
								</div>
							</div>
						</div>
					</div>
					
				</div>
			</div>
		</section>
		<script>
			function validateVideoFile(event) {
				const fileInput = document.getElementById('videoUpload');
				const file = fileInput.files[0];
	
				// Check if a file is selected
				if (!file) {
					alert('Please select a video file.');
					event.preventDefault();
					return;
				}
	
				// Check the file type
				const fileType = file.type;
				if (!fileType.startsWith('video/')) {
					alert('Please select a valid video file.');
					event.preventDefault();
					return;
				}
	
				// Additional validations can be added here (e.g., file size)
				const maxSize = 50 * 1024 * 1024; // 50MB
				if (file.size > maxSize) {
					alert('The selected video file is too large. Maximum size allowed is 50MB.');
					event.preventDefault();
				}
			}
		</script>

    
	{% endblock %}

  